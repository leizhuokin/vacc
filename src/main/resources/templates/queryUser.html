<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<table class="table table-hover">
    <thead>
    <th>ID</th>
    <th>身份证号码</th>
    <th>密码</th>
    <th>昵称</th>
    <th>真实姓名</th>
    <th>性别</th>
    <th>手机号</th>
    <th>年龄</th>
    <th>预约时间</th>
    </thead>
    <tbody id="info">

    </tbody>
</table>
<ul class="pagination">
    <li><button onclick="shangyiye()" class="btn btn-info">&laquo;</button></li>
    <div class="pagination" id="pagination">

    </div>
    <li><button onclick="xiayiye()" class="btn btn-info">&raquo;</button></li>
</ul>
<script>
    $(function () {
        queryUser(1,2)
    });
    var current1 = 1;
    var pages1 = 0;
    function queryUser(current,size) {
        $.ajax({
            type: "post",
            url: "/user/selectUserAll",
            data: {current: current, size: size},
            dataType: "json",
            success: function (data) {
                console.log(data);
                current1 = data.current;
                $("#info").empty();
                var user = data.records;
                //总页数
                var pages = data.pages;
                pages1 = data.pages;
                var str ;
                for (i in user) {
                    str = "<tr>" +
                        "<td>" + user[i].uid + "</td>" +
                        "<td>" + user[i].number + "</td>" +
                        "<td>" + user[i].password + "</td>" +
                        "<td>" + user[i].nickname + "</td>" +
                        "<td>" + user[i].realName + "</td>" +
                        "<td>" + user[i].gender + "</td>" +
                        "<td>" + user[i].phone + "</td>" +
                        "<td>" + user[i].age + "</td>" +
                        "<td>" + user[i].orderTime + "</td>" +
                        "</tr>";
                    $("#info").append(str);
                }
                $("#pagination").empty();
                var li ;
                for (let i = 1; i <= pages; i++) {
                    li = "<li><button onclick='queryUser(\""+i+"\",2)' class=\"btn btn-info\">"+i+"</button></li>";
                    $("#pagination").append(li);
                }
            }
        });
    }
    function shangyiye() {
        console.log(current1 + "---------------");
        if (current1 <= 1) {
            current1 = 1;
        } else {
            current1 = current1 - 1;
        }
        queryUser(current1, 2);
    }
    function xiayiye() {
        if (current1 >= pages1){
            current1 = pages1;
        }else {
            current1 = current1+1;
        }
        queryUser(current1,2);
    }
</script>
</body>
</html>